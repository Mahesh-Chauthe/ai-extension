<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { 
            width: 380px; 
            padding: 0; 
            margin: 0; 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
            background: #f8fafc;
        }
        .header { 
            background: linear-gradient(135deg, #7c3aed, #a855f7); 
            color: white; 
            padding: 1.5rem; 
            text-align: center; 
        }
        .content { 
            padding: 1.5rem; 
        }
        .form-group { 
            margin-bottom: 1rem; 
        }
        .form-group label { 
            display: block; 
            margin-bottom: 0.5rem; 
            font-weight: 600; 
            color: #374151; 
        }
        .form-group input { 
            width: 100%; 
            padding: 0.75rem; 
            border: 2px solid #e5e7eb; 
            border-radius: 8px; 
            box-sizing: border-box; 
            font-size: 0.9rem;
        }
        .form-group input:focus {
            outline: none;
            border-color: #7c3aed;
        }
        .btn { 
            width: 100%; 
            padding: 0.75rem; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            margin-bottom: 0.5rem; 
            font-size: 0.9rem;
        }
        .btn-primary { 
            background: #7c3aed; 
            color: white; 
        }
        .btn-primary:hover { 
            background: #6d28d9; 
        }
        .btn-secondary { 
            background: #6b7280; 
            color: white; 
        }
        .btn-danger {
            background: #dc2626;
            color: white;
        }
        .status { 
            padding: 0.75rem; 
            border-radius: 8px; 
            margin-bottom: 1rem; 
            text-align: center; 
            font-weight: 600;
        }
        .status.success { 
            background: #d1fae5; 
            color: #065f46; 
            border: 2px solid #a7f3d0; 
        }
        .status.error { 
            background: #fee2e2; 
            color: #991b1b; 
            border: 2px solid #fca5a5; 
        }
        .status.warning { 
            background: #fef3c7; 
            color: #92400e; 
            border: 2px solid #fcd34d; 
        }
        .org-info { 
            background: #f3f4f6; 
            padding: 1rem; 
            border-radius: 8px; 
            margin-bottom: 1rem; 
            border: 1px solid #e5e7eb;
        }
        .scan-result { 
            background: #f9fafb; 
            border: 2px solid #e5e7eb; 
            border-radius: 8px; 
            padding: 1rem; 
            margin-top: 1rem; 
        }
        .hidden { 
            display: none; 
        }
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .stat-card {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e5e7eb;
        }
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #7c3aed;
        }
        .stat-label {
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
        .threat-item {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .threat-type {
            font-weight: 600;
            color: #dc2626;
            font-size: 0.9rem;
        }
        .threat-desc {
            font-size: 0.8rem;
            color: #7f1d1d;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h3>üõ°Ô∏è Enterprise Security</h3>
        <p id="headerSubtitle">Extension</p>
    </div>

    <div class="content">
        <!-- Authentication Screen -->
        <div id="authScreen">
            <div class="form-group">
                <label>Extension Token</label>
                <input type="password" id="extensionToken" placeholder="Enter token from your admin">
            </div>
            <button class="btn btn-primary" id="authenticateBtn">Activate Extension</button>
            <div class="status warning">
                <strong>First Time Setup</strong><br>
                Enter the extension token provided by your Organization Admin to activate security monitoring.
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboardScreen" class="hidden">
            <div class="org-info">
                <strong id="orgName">Organization</strong><br>
                <small id="userEmail">user@company.com</small>
            </div>

            <div class="status success" id="statusIndicator">
                ‚úÖ Protection Active
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="pagesScanned">0</div>
                    <div class="stat-label">Pages Scanned</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="threatsBlocked">0</div>
                    <div class="stat-label">Threats Blocked</div>
                </div>
            </div>

            <button class="btn btn-primary" id="scanPageBtn">Scan Current Page</button>
            <button class="btn btn-secondary" id="viewActivityBtn">View Activity</button>
            <button class="btn btn-secondary" id="settingsBtn">Settings</button>

            <div id="scanResult" class="scan-result hidden">
                <h4>Scan Results</h4>
                <div id="scanDetails"></div>
            </div>

            <div style="margin-top: 1rem; text-align: center;">
                <button class="btn btn-danger" id="logoutBtn" style="font-size: 0.8rem; padding: 0.5rem;">Logout</button>
            </div>
        </div>

        <!-- Activity Screen -->
        <div id="activityScreen" class="hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h4>Recent Activity</h4>
                <button id="backToDashboard" style="background: none; border: none; color: #7c3aed; cursor: pointer;">‚Üê Back</button>
            </div>
            <div id="activityList"></div>
        </div>

        <!-- Settings Screen -->
        <div id="settingsScreen" class="hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h4>Settings</h4>
                <button id="backFromSettings" style="background: none; border: none; color: #7c3aed; cursor: pointer;">‚Üê Back</button>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableNotifications" checked> 
                    Enable Notifications
                </label>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableChatbotMonitoring" checked> 
                    Monitor AI Chatbots
                </label>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableFormMonitoring" checked> 
                    Monitor Form Inputs
                </label>
            </div>
            
            <div class="form-group">
                <label>Sensitivity Level</label>
                <select id="sensitivityLevel" style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px;">
                    <option value="low">Low</option>
                    <option value="medium" selected>Medium</option>
                    <option value="high">High</option>
                </select>
            </div>
            
            <button class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>